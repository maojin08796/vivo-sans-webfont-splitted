#!/usr/bin/env node
'use strict';

const commander = require('commander');
const genCommanderCode = require('./adapter/genCommanderCode.js');
const fs = require('fs-extra');
const genClapCode = require('./adapter/genClapCode.js');

const program = new commander.Command();
program.requiredOption("-i, --input <path>", "proto file path").requiredOption("-t --target <target_name>", "target to gen", "commander").requiredOption("-m, --message_name <name>", "message name in proto").requiredOption("-o, --output <path>", "path to gen file");
const data = program.parse(process.argv).opts();
const adapters = {
  commander: genCommanderCode.genCommanderCode,
  clap: genClapCode.genClapCode
};
if (!adapters[data.target])
  throw new Error(`${data.target} target not support`);
const file = adapters[data.target](data.input, data.message_name);
fs.outputFile(data.output, file);
//# sourceMappingURL=cli.js.map
