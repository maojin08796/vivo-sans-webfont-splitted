import { getBinName as i, matchPlatform as s } from "../load.mjs";
import { createAPI as f } from "../createAPI.mjs";
import { decodeReporter as d } from "../decodeReporter.mjs";
import { api_interface as N } from "../gen/index.mjs";
const e = Deno;
let t = e.env.get("CN_FONT_SPLIT_BIN");
t || (t = new URL(
  "../" + i(
    s(process.platform, process.arch, () => !1)
  ),
  import.meta.url
));
const p = e.dlopen(t, {
  font_split: { parameters: ["buffer", "usize", "function"], result: "void" }
}), l = (r) => new e.UnsafeCallback(
  {
    parameters: ["pointer", "usize"],
    result: "void"
  },
  (o, n) => {
    let a = new e.UnsafePointerView(o).getArrayBuffer(
      Number(n)
    );
    r(new Uint8Array(a.slice()));
  }
).pointer, u = f(p.symbols.font_split, l);
export {
  f as createAPI,
  d as decodeReporter,
  u as fontSplit,
  N as proto
};
//# sourceMappingURL=index.mjs.map
