"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("path"),t=require("../load.js"),d=require("./isMusl.js"),i=require("../createAPI.js");require("../node_modules/.pnpm/@xan105_ffi@1.3.0_koffi@2.10.0/node_modules/@xan105/ffi/lib/koffi/index.js");const o=require("koffi"),l=require("url"),p=require("../node_modules/.pnpm/@xan105_ffi@1.3.0_koffi@2.10.0/node_modules/@xan105/ffi/lib/koffi/open.js"),f=require("../node_modules/.pnpm/@xan105_ffi@1.3.0_koffi@2.10.0/node_modules/@xan105/ffi/lib/koffi/helper.js"),m=require("../decodeReporter.js"),_=require("../gen/index.js");var e=typeof document<"u"?document.currentScript:null;const q=l.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:e&&e.tagName.toUpperCase()==="SCRIPT"&&e.src||new URL("node/index.js",document.baseURI).href),P=n.dirname(q);let r=process.env.CN_FONT_SPLIT_BIN;r||(r=n.resolve(P,"../"+t.getBinName(t.matchPlatform(process.platform,process.arch,d.isMusl))));const b=p.dlopen(r,{font_split:{parameters:["pointer","usize","function"],result:"void"}}),h=c=>new f.Callback({parameters:["pointer","usize"],result:"void"},(a,s)=>{const u=o.decode(a,o.array("uint8_t",s,"Array"));c(new Uint8Array(u))}).pointer,y=i.createAPI(b.font_split,h);exports.createAPI=i.createAPI;exports.decodeReporter=m.decodeReporter;Object.defineProperty(exports,"proto",{enumerable:!0,get:()=>_.api_interface});exports.fontSplit=y;
//# sourceMappingURL=index.js.map
