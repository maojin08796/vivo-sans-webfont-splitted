{"version":3,"file":"cli.js","sources":["../src/cli.ts"],"sourcesContent":["#!/usr/bin/env node\nimport { Command } from 'commander';\nimport { getCliParams } from './gen/proto.js';\nimport { runInitScript } from './init.js';\nimport set from 'set-value';\ngetCliParams(process.argv, (program, run) => {\n    run.action(async (data) => {\n        let fontSplit;\n        if (process.versions.bun) {\n            fontSplit = (await import('./bun/index.js')).fontSplit;\n        } else {\n            fontSplit = (await import('./node/index.js')).fontSplit;\n        }\n        const newData = { ...data };\n        Object.entries(newData).forEach(([key, value]) => {\n            set(newData, key, value);\n        });\n        await fontSplit(newData);\n    });\n    program\n        .usage(\n            '\\ncn-font-split -i <字体地址> -o <文件夹地址>\\ncn-font-split run -h # 查看更详细信息',\n        )\n        .description('')\n        .addCommand(\n            new Command('i')\n                .description('安装指定源 wasm32-wasip1@版本号')\n                // .option('-f, --force', '强制下载源')\n                .action(async () => {\n                    await runInitScript();\n                }),\n        )\n        .addCommand(\n            new Command('ls')\n                .description('列出本地和远程信息')\n                .action(async () => {\n                    await runInitScript();\n                }),\n        );\n});\n"],"names":["getCliParams","program","run","data","fontSplit","newData","key","value","set","Command","runInitScript"],"mappings":";oHAKAA,EAAAA,aAAa,QAAQ,KAAM,CAACC,EAASC,IAAQ,CACzCA,EAAI,OAAO,MAAOC,GAAS,CACvB,IAAIC,EACA,QAAQ,SAAS,IACjBA,GAAa,MAAM,mCAAO,gBAAgB,CAAA,GAAG,UAE7CA,GAAa,MAAM,mCAAO,iBAAiB,CAAA,GAAG,UAElD,MAAMC,EAAU,CAAE,GAAGF,CAAA,EACrB,OAAO,QAAQE,CAAO,EAAE,QAAQ,CAAC,CAACC,EAAKC,CAAK,IAAM,CAC9CC,EAAIH,EAASC,EAAKC,CAAK,CAC3B,CAAC,EACD,MAAMH,EAAUC,CAAO,CAC3B,CAAC,EACDJ,EACK,MACG;AAAA;AAAA,+BAAA,EAEH,YAAY,EAAE,EACd,WACG,IAAIQ,EAAAA,QAAQ,GAAG,EACV,YAAY,yBAAyB,EAErC,OAAO,SAAY,CAChB,MAAMC,gBAAA,CACV,CAAC,CAAA,EAER,WACG,IAAID,EAAAA,QAAQ,IAAI,EACX,YAAY,WAAW,EACvB,OAAO,SAAY,CAChB,MAAMC,gBAAA,CACV,CAAC,CAAA,CAEjB,CAAC"}