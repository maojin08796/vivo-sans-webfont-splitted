{"version":3,"file":"clean.mjs","sources":["../../../../../../../../../../../node_modules/.pnpm/@xan105+error@1.7.1/node_modules/@xan105/error/lib/util/clean.js"],"sourcesContent":["/*\nBased on \"clean-stack\" (MIT License)\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)\nhttps://github.com/sindresorhus/clean-stack/tree/198c3de8baa3879fbc850be144707e4608eecd8c\n*/\n\nfunction filterStackTrace(stack, filter = []){\n\n  if (typeof stack !== \"string\") return undefined;\n  \n  const at = /\\s+at.*[(\\s](.*)\\)?/;\n  const internal = /^(?:(?:(?:node|node:[\\w/]+|(?:(?:node:)?internal\\/[\\w/]*|.*node_modules\\/.*)?\\w+)(?:\\.js)?:\\d+:\\d+)|native)/;\n  \n  const electron = [\n    \".app/Contents/Resources/electron.asar\",\n    \".app/Contents/Resources/default_app.asar\"\n  ];\n  \n  const ignore = electron.concat(filter);\n\n  return stack\n         .replace(/\\\\/g, \"/\")\n         .split(\"\\n\")\n         .filter(line => {\n            const extract = line.match(at);\n            if (extract === null || !extract[1]) return true;\n            const match = extract[1];\n            if (ignore.some(el => match.includes(el))) return false;\n            return !internal.test(match);\n         })\n         .filter(line => line.trim() !== \"\")\n         .join(\"\\n\");   \n}\n\nexport { filterStackTrace };"],"names":["filterStackTrace","stack","filter","at","internal","ignore","line","extract","match","el"],"mappings":"AAMA,SAASA,EAAiBC,GAAOC,IAAS,IAAG;AAE3C,MAAI,OAAOD,KAAU,SAAU;AAE/B,QAAME,IAAK,uBACLC,IAAW,+GAOXC,IALW;AAAA,IACf;AAAA,IACA;AAAA,EACJ,EAE0B,OAAOH,CAAM;AAErC,SAAOD,EACC,QAAQ,OAAO,GAAG,EAClB,MAAM;AAAA,CAAI,EACV,OAAO,CAAAK,MAAQ;AACb,UAAMC,IAAUD,EAAK,MAAMH,CAAE;AAC7B,QAAII,MAAY,QAAQ,CAACA,EAAQ,CAAC,EAAG,QAAO;AAC5C,UAAMC,IAAQD,EAAQ,CAAC;AACvB,WAAIF,EAAO,KAAK,CAAAI,MAAMD,EAAM,SAASC,CAAE,CAAC,IAAU,KAC3C,CAACL,EAAS,KAAKI,CAAK;AAAA,EAC9B,CAAC,EACA,OAAO,CAAAF,MAAQA,EAAK,KAAI,MAAO,EAAE,EACjC,KAAK;AAAA,CAAI;AACnB;","x_google_ignoreList":[0]}