{"version":3,"file":"cli.mjs","sources":["../src/cli.ts"],"sourcesContent":["#!/usr/bin/env node\nimport { Command } from 'commander';\nimport { getCliParams } from './gen/proto.js';\nimport { runInitScript } from './init.js';\nimport set from 'set-value';\ngetCliParams(process.argv, (program, run) => {\n    run.action(async (data) => {\n        let fontSplit;\n        if (process.versions.bun) {\n            fontSplit = (await import('./bun/index.js')).fontSplit;\n        } else {\n            fontSplit = (await import('./node/index.js')).fontSplit;\n        }\n        const newData = { ...data };\n        Object.entries(newData).forEach(([key, value]) => {\n            set(newData, key, value);\n        });\n        await fontSplit(newData);\n    });\n    program\n        .usage(\n            '\\ncn-font-split -i <字体地址> -o <文件夹地址>\\ncn-font-split run -h # 查看更详细信息',\n        )\n        .description('')\n        .addCommand(\n            new Command('i')\n                .description('安装指定源 wasm32-wasip1@版本号')\n                // .option('-f, --force', '强制下载源')\n                .action(async () => {\n                    await runInitScript();\n                }),\n        )\n        .addCommand(\n            new Command('ls')\n                .description('列出本地和远程信息')\n                .action(async () => {\n                    await runInitScript();\n                }),\n        );\n});\n"],"names":["getCliParams","program","run","data","fontSplit","newData","key","value","set","Command","runInitScript"],"mappings":";;;;;AAKAA,EAAa,QAAQ,MAAM,CAACC,GAASC,MAAQ;AACzC,EAAAA,EAAI,OAAO,OAAOC,MAAS;AACvB,QAAIC;AACJ,IAAI,QAAQ,SAAS,MACjBA,KAAa,MAAM,OAAO,iBAAgB,GAAG,YAE7CA,KAAa,MAAM,OAAO,kBAAiB,GAAG;AAElD,UAAMC,IAAU,EAAE,GAAGF,EAAA;AACrB,WAAO,QAAQE,CAAO,EAAE,QAAQ,CAAC,CAACC,GAAKC,CAAK,MAAM;AAC9C,MAAAC,EAAIH,GAASC,GAAKC,CAAK;AAAA,IAC3B,CAAC,GACD,MAAMH,EAAUC,CAAO;AAAA,EAC3B,CAAC,GACDJ,EACK;AAAA,IACG;AAAA;AAAA;AAAA,EAAA,EAEH,YAAY,EAAE,EACd;AAAA,IACG,IAAIQ,EAAQ,GAAG,EACV,YAAY,yBAAyB,EAErC,OAAO,YAAY;AAChB,YAAMC,EAAA;AAAA,IACV,CAAC;AAAA,EAAA,EAER;AAAA,IACG,IAAID,EAAQ,IAAI,EACX,YAAY,WAAW,EACvB,OAAO,YAAY;AAChB,YAAMC,EAAA;AAAA,IACV,CAAC;AAAA,EAAA;AAEjB,CAAC;"}